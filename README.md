# åŸºäºè°ƒç”¨ğŸŒGemini Nano Banana api çš„ç§æœ‰åŒ– AI å›¾ç‰‡ç”Ÿæˆå¹³å°

<p align="center">
  <img src="static/logo.ico" alt="Logo" width="120" height="120">
</p>

<p align="center">
  <b>ä¸€é”®éƒ¨ç½²ï¼Œæ‹¥æœ‰å±äºè‡ªå·±çš„ Gemini AI å›¾ç‰‡ç”Ÿæˆç½‘ç«™</b>
</p>

<p align="center">
  ğŸŒ <b>åœ¨çº¿æ¼”ç¤ºï¼š</b> <a href="https://nano.gitsay.com/" target="_blank">https://nano.gitsay.com/</a>
</p>

<p align="center">
  åªéœ€å¡«å…¥ Google Gemini API Keyï¼Œå³å¯æ­å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ AI å›¾ç‰‡ç”Ÿæˆå¹³å°<br>
  æ”¯æŒç”¨æˆ·æ³¨å†Œã€ç‚¹æ•°ç³»ç»Ÿã€å¤šè½®å¯¹è¯ã€å›¾ç”Ÿå›¾ç­‰ä¸°å¯ŒåŠŸèƒ½
</p>

<p align="center">
  <img src="https://img.shields.io/github/stars/gbmomo/gemini-image-webapp?style=flat-square" alt="Stars">
  <img src="https://img.shields.io/github/forks/gbmomo/gemini-image-webapp?style=flat-square" alt="Forks">
  <img src="https://img.shields.io/badge/Python-3.10%2B-blue.svg" alt="Python">
  <img src="https://img.shields.io/badge/Flask-3.0%2B-green.svg" alt="Flask">
  <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License">
</p>

---

## ğŸ“¸ æ•ˆæœå±•ç¤º

### ç™»å½•ä¸æ³¨å†Œ

<p align="center">
  <img src="Display pictures/ç™»å½•ç•Œé¢.png" alt="ç™»å½•ç•Œé¢" width="45%">
  <img src="Display pictures/æ³¨å†Œé¡µé¢.png" alt="æ³¨å†Œé¡µé¢" width="45%">
</p>

### ç½‘ç«™é¦–é¡µ

<p align="center">
  <img src="Display pictures/ç½‘ç«™é¦–é¡µï¼ˆæœªç”Ÿæˆä¹‹å‰ï¼‰.png" alt="ç½‘ç«™é¦–é¡µ" width="80%">
</p>

### AI å›¾ç‰‡ç”Ÿæˆæ•ˆæœ

<p align="center">
  <img src="Display pictures/ç½‘ç«™é¦–é¡µï¼ˆç”Ÿæˆå›¾ç‰‡çš„æ•ˆæœï¼‰.png" alt="ç”Ÿæˆå›¾ç‰‡æ•ˆæœ" width="80%">
</p>

### ç®¡ç†å‘˜åå°

<p align="center">
  <img src="Display pictures/ç®¡ç†å‘˜åå°é¦–é¡µ.png" alt="ç®¡ç†å‘˜åå°" width="80%">
</p>

---

## ğŸ¯ è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

**gemini-image-webapp** æ˜¯ä¸€ä¸ªå¼€ç®±å³ç”¨çš„ AI å›¾ç‰‡ç”Ÿæˆç½‘ç«™ç³»ç»Ÿã€‚åŸºäº Google Gemini å›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œè®©ä½ å¯ä»¥å¿«é€Ÿæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ AI ç»˜å›¾å¹³å°ã€‚

**é€‚åˆäººç¾¤ï¼š**
- ğŸ¨ æƒ³è¦æ‹¥æœ‰ç§æœ‰ AI ç»˜å›¾ç½‘ç«™çš„ä¸ªäººæˆ–å›¢é˜Ÿ
- ğŸ’¼ æƒ³è¦è¿è¥ AI å›¾ç‰‡ç”ŸæˆæœåŠ¡çš„åˆ›ä¸šè€…
- ğŸ”§ éœ€è¦å†…éƒ¨ AI ç»˜å›¾å·¥å…·çš„å…¬å¸
- ğŸ“š å­¦ä¹  Flask + AI API å¼€å‘çš„å¼€å‘è€…

**ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªé¡¹ç›®ï¼Ÿ**
- âœ… **é›¶é—¨æ§›** - åªéœ€ä¸€ä¸ª Gemini API Key å³å¯è¿è¡Œ
- âœ… **åŠŸèƒ½å®Œæ•´** - ç”¨æˆ·ç³»ç»Ÿã€ç‚¹æ•°è®¡è´¹ã€å¡å¯†å……å€¼å…¨éƒ½æœ‰
- âœ… **å¼€ç®±å³ç”¨** - ç²¾ç¾çš„ UI ç•Œé¢ï¼Œæ— éœ€å‰ç«¯å¼€å‘
- âœ… **å®‰å…¨å¯é ** - å†…ç½®å¤šé‡å®‰å…¨é˜²æŠ¤æœºåˆ¶
- âœ… **æ˜“äºéƒ¨ç½²** - æ”¯æŒæœ¬åœ°å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

---

## ğŸŒŸ åŠŸèƒ½äº®ç‚¹

### ğŸ¨ å¼ºå¤§çš„ AI ç”Ÿå›¾èƒ½åŠ›
| åŠŸèƒ½ | æè¿° |
|------|------|
| **æ–‡ç”Ÿå›¾** | è¾“å…¥æ–‡å­—æè¿°ï¼ŒAI è‡ªåŠ¨ç”Ÿæˆå›¾ç‰‡ |
| **å›¾ç”Ÿå›¾** | ä¸Šä¼ å‚è€ƒå›¾ç‰‡ï¼ŒAI æ ¹æ®æè¿°ä¿®æ”¹ |
| **å¤šè½®å¯¹è¯** | AI è®°ä½ä¸Šä¸‹æ–‡ï¼ŒæŒç»­è¿­ä»£ä¼˜åŒ–å›¾ç‰‡ |
| **å¤šå‚è€ƒå›¾** | æ”¯æŒåŒæ—¶ä¸Šä¼ æœ€å¤š 14 å¼ å‚è€ƒå›¾ç‰‡ |
| **é«˜åˆ†è¾¨ç‡** | æ”¯æŒ 1Kã€2Kã€4K ä¸‰ç§åˆ†è¾¨ç‡ |
| **å¤šçºµæ¨ªæ¯”** | 1:1ã€16:9ã€9:16ã€4:3ã€21:9 ç­‰å¤šç§æ¯”ä¾‹ |

### ğŸ‘¥ å®Œæ•´çš„ç”¨æˆ·ç³»ç»Ÿ
| åŠŸèƒ½ | æè¿° |
|------|------|
| **ç”¨æˆ·æ³¨å†Œ** | é‚®ç®±éªŒè¯ç æ³¨å†Œï¼Œé˜²æ­¢æ»¥ç”¨ |
| **ç”¨æˆ·ç™»å½•** | å®‰å…¨çš„å¯†ç éªŒè¯ |
| **ç‚¹æ•°ç³»ç»Ÿ** | æŒ‰åˆ†è¾¨ç‡æ¶ˆè€—ç‚¹æ•°ï¼Œç²¾ç»†åŒ–è®¡è´¹ |
| **å¡å¯†å……å€¼** | ç”¨æˆ·å¯é€šè¿‡å¡å¯†è‡ªåŠ©å……å€¼ |
| **ä¼šè¯ç®¡ç†** | å¤šä¼šè¯ç®¡ç†ï¼Œéšæ—¶åˆ‡æ¢å¯¹è¯ |

### ğŸ”§ å¼ºå¤§çš„ç®¡ç†åå°
| åŠŸèƒ½ | æè¿° |
|------|------|
| **ç”¨æˆ·ç®¡ç†** | æŸ¥çœ‹ã€åˆ é™¤ç”¨æˆ·ï¼Œç®¡ç†æƒé™ |
| **ç‚¹æ•°ç®¡ç†** | ä¸ºç”¨æˆ·æ‰‹åŠ¨å……å€¼ç‚¹æ•° |
| **å¡å¯†ç”Ÿæˆ** | æ‰¹é‡ç”Ÿæˆå……å€¼å¡å¯† |
| **æ•°æ®ç»Ÿè®¡** | æŸ¥çœ‹ç”¨æˆ·ä½¿ç”¨æƒ…å†µ |
| **æ•°æ®æ¸…ç†** | æ¸…ç†å†å²æ•°æ®é‡Šæ”¾ç©ºé—´ |

### ğŸ”’ ä¼ä¸šçº§å®‰å…¨
- CSRF è·¨ç«™è¯·æ±‚ä¼ªé€ é˜²æŠ¤
- é€Ÿç‡é™åˆ¶é˜²æš´åŠ›ç ´è§£
- å¯†ç å“ˆå¸Œå®‰å…¨å­˜å‚¨
- Session å®‰å…¨é…ç½®
- è·¯å¾„éå†æ”»å‡»é˜²æŠ¤
- ç”Ÿäº§ç¯å¢ƒ HTTPS å¼ºåˆ¶

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ5 åˆ†é’Ÿéƒ¨ç½²ï¼‰

### ç¬¬ä¸€æ­¥ï¼šè·å–é¡¹ç›®ä»£ç 

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/gbmomo/gemini-image-webapp.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd gemini-image-webapp
```

### ç¬¬äºŒæ­¥ï¼šå®‰è£… Python ç¯å¢ƒ

ç¡®ä¿ä½ çš„ç”µè„‘å·²å®‰è£… Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼š

```bash
# æ£€æŸ¥ Python ç‰ˆæœ¬
python --version
# è¾“å‡ºåº”è¯¥æ˜¯ Python 3.10.x æˆ–æ›´é«˜
```

åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰ï¼š

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS / Linux
python3 -m venv venv
source venv/bin/activate
```

å®‰è£…ä¾èµ–ï¼š

```bash
pip install -r requirements.txt
```

### ç¬¬ä¸‰æ­¥ï¼šè·å– Gemini API Key

1. è®¿é—® [Google AI Studio](https://aistudio.google.com/apikey)
2. ç™»å½•ä½ çš„ Google è´¦å·
3. ç‚¹å‡»ã€ŒCreate API Keyã€åˆ›å»ºä¸€ä¸ªæ–°çš„ API Key
4. å¤åˆ¶ç”Ÿæˆçš„ API Keyï¼ˆå½¢å¦‚ `AIzaSy...`ï¼‰

> âš ï¸ **é‡è¦æç¤º**ï¼šè¯·å¦¥å–„ä¿ç®¡ä½ çš„ API Keyï¼Œä¸è¦æ³„éœ²ç»™ä»–äººï¼

### ç¬¬å››æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡

1. åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆå¤åˆ¶ä¸€ä»½æ¨¡æ¿å¹¶é‡å‘½åï¼‰ï¼š

```bash
# Windows
copy .env.example .env

# macOS / Linux
cp .env.example .env
```

2. æ‰“å¼€åˆšæ‰åˆ›å»ºçš„ `.env` æ–‡ä»¶ï¼Œå¡«å†™ä½ çš„é…ç½®ï¼š

```env
# ========== å¿…å¡«é¡¹ï¼ˆå¡«è¿™ä¸‰ä¸ªå°±èƒ½è·‘èµ·æ¥ï¼ï¼‰ ==========

# ä½ çš„ Gemini API Keyï¼ˆç¬¬ä¸‰æ­¥è·å–çš„ï¼‰
GEMINI_API_KEY=AIzaSyä½ çš„APIå¯†é’¥

# éšä¾¿å†™ä¸€ä¸²å¤æ‚çš„å­—ç¬¦ä¸²ï¼Œç”¨äºåŠ å¯†ç”¨æˆ·ä¼šè¯
SECRET_KEY=abc123éšä¾¿å†™ä¸€ä¸²å¤æ‚çš„å­—ç¬¦

# ç®¡ç†å‘˜å¯†ç ï¼ˆç™»å½• admin è´¦å·ç”¨ï¼‰
ADMIN_PASSWORD=ä½ çš„ç®¡ç†å‘˜å¯†ç 

# ========== å¯é€‰é…ç½® ==========

# ä½¿ç”¨çš„ Gemini æ¨¡å‹ï¼ˆé»˜è®¤ä½¿ç”¨æœ€æ–°çš„ gemini-3-pro-image-previewï¼‰
# å¦‚æœæœªæ¥æœ‰æ–°æ¨¡å‹å‘å¸ƒï¼Œå¯ä»¥åœ¨æ­¤ä¿®æ”¹æ¨¡å‹åç§°
# GEMINI_MODEL=gemini-3-pro-image-preview

# å¦‚æœä½ éœ€è¦é‚®ç®±éªŒè¯ç æ³¨å†ŒåŠŸèƒ½ï¼Œè¯·é…ç½®ä»¥ä¸‹å†…å®¹ï¼š
# EMAIL_SENDER=ä½ çš„é‚®ç®±@qq.com
# EMAIL_PASSWORD=é‚®ç®±æˆæƒç 
# SMTP_SERVER=smtp.qq.com
# SMTP_PORT=465
```

> ğŸ’¡ **å°æç¤º**ï¼šæœ€ç®€é…ç½®åªéœ€å¡«å†™å‰ä¸‰é¡¹å³å¯è¿è¡Œï¼é‚®ç®±é…ç½®å¯ä»¥ä¹‹åå†æ·»åŠ ã€‚

### ç¬¬äº”æ­¥ï¼šå¯åŠ¨åº”ç”¨

```bash
python app.py
```

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¯´æ˜å¯åŠ¨æˆåŠŸï¼š

```
 * Running on http://127.0.0.1:5000
```

### ç¬¬å…­æ­¥ï¼šå¼€å§‹ä½¿ç”¨ï¼

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® `http://127.0.0.1:5000`
2. ä½¿ç”¨ `admin` + ä½ è®¾ç½®çš„ç®¡ç†å‘˜å¯†ç ç™»å½•
3. å¼€å§‹åˆ›ä½œä½ çš„ç¬¬ä¸€å¼  AI å›¾ç‰‡ï¼

ğŸ‰ **æ­å–œï¼ä½ å·²ç»æˆåŠŸéƒ¨ç½²äº†è‡ªå·±çš„ AI å›¾ç‰‡ç”Ÿæˆç½‘ç«™ï¼**

---

## ğŸ“– è¯¦ç»†ä½¿ç”¨æ•™ç¨‹

### ğŸ‘¤ æ™®é€šç”¨æˆ·ä½¿ç”¨æµç¨‹

#### 1. æ³¨å†Œè´¦å·
- ç‚¹å‡»ã€Œç«‹å³æ³¨å†Œã€
- è¾“å…¥ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç 
- è¾“å…¥é‚®ç®±æ”¶åˆ°çš„éªŒè¯ç 
- å®Œæˆæ³¨å†Œï¼ˆæ–°ç”¨æˆ·èµ é€ 4 ç‚¹æ•°ï¼‰

#### 2. åˆ›å»ºå¯¹è¯
- ç‚¹å‡»å·¦ä¾§ã€Œ+ æ–°å¯¹è¯ã€æŒ‰é’®
- ç»™å¯¹è¯èµ·ä¸ªåå­—ï¼ˆå¯é€‰ï¼‰

#### 3. é€‰æ‹©å‚æ•°
- **åˆ†è¾¨ç‡**ï¼š1Kï¼ˆ1ç‚¹ï¼‰ã€2Kï¼ˆ2ç‚¹ï¼‰ã€4Kï¼ˆ4ç‚¹ï¼‰
- **çºµæ¨ªæ¯”**ï¼šè‡ªåŠ¨ã€1:1ã€16:9ã€9:16 ç­‰

> âš ï¸ æ³¨æ„ï¼šé¦–æ¬¡ç”Ÿæˆåå‚æ•°ä¼šè¢«é”å®šï¼Œéœ€è¦åˆ›å»ºæ–°å¯¹è¯æ‰èƒ½æ›´æ”¹

#### 4. ç”Ÿæˆå›¾ç‰‡

**æ–‡ç”Ÿå›¾**ï¼šç›´æ¥è¾“å…¥æè¿°æ–‡å­—
```
ç¤ºä¾‹ï¼šä¸€åªå¯çˆ±çš„æŸ¯åŸºçŠ¬åœ¨æ¨±èŠ±æ ‘ä¸‹å¥”è·‘ï¼Œé˜³å…‰æ˜åªšï¼Œæ—¥ç³»åŠ¨æ¼«é£æ ¼ï¼Œé«˜æ¸…
```

**å›¾ç”Ÿå›¾**ï¼šä¸Šä¼ å‚è€ƒå›¾ç‰‡ + è¾“å…¥æè¿°
```
ç¤ºä¾‹ï¼šæŠŠå›¾ç‰‡ä¸­çš„äººç‰©æ¢æˆçŒ«è€³å¨˜é£æ ¼
```

#### 5. è¿­ä»£ä¼˜åŒ–
- ç”Ÿæˆåå¯ä»¥ç»§ç»­å‘é€æ¶ˆæ¯ä¿®æ”¹
- AI ä¼šè®°ä½ä¹‹å‰ç”Ÿæˆçš„å›¾ç‰‡
- å¯ä»¥è¯´ã€ŒæŠŠèƒŒæ™¯æ¢æˆæ˜Ÿç©ºã€ã€Œè®©è‰²å½©æ›´é²œè‰³ã€ç­‰

#### 6. ä¸‹è½½å›¾ç‰‡
- ç‚¹å‡»ç”Ÿæˆçš„å›¾ç‰‡æŸ¥çœ‹å¤§å›¾
- ç‚¹å‡»ã€Œä¸‹è½½å›¾ç‰‡ã€ä¿å­˜åˆ°æœ¬åœ°

### ğŸ”§ ç®¡ç†å‘˜ä½¿ç”¨æŒ‡å—

ä½¿ç”¨ `admin` è´¦å·ç™»å½•åï¼Œç‚¹å‡»å³ä¸Šè§’ã€Œç®¡ç†åå°ã€è¿›å…¥ç®¡ç†æ§åˆ¶å°ã€‚

#### ç”¨æˆ·ç®¡ç†
- æŸ¥çœ‹æ‰€æœ‰æ³¨å†Œç”¨æˆ·
- æŸ¥çœ‹ç”¨æˆ·çš„ä¼šè¯å’Œæ¶ˆæ¯æ•°
- ä¸ºç”¨æˆ·æ‰‹åŠ¨å……å€¼ç‚¹æ•°
- è®¾ç½®/å–æ¶ˆç®¡ç†å‘˜æƒé™
- åˆ é™¤è¿è§„ç”¨æˆ·

#### å¡å¯†ç®¡ç†
- æ‰¹é‡ç”Ÿæˆå……å€¼å¡å¯†
- è®¾ç½®æ¯å¼ å¡å¯†çš„ç‚¹æ•°
- æŸ¥çœ‹å¡å¯†ä½¿ç”¨è®°å½•
- å¡å¯†ç”Ÿæˆåè¯·ç«‹å³å¤åˆ¶ä¿å­˜ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰

#### æ•°æ®æ¸…ç†
- è®¾ç½®æˆªæ­¢æ—¥æœŸ
- æ¸…ç†æŒ‡å®šæ—¥æœŸå‰çš„å†å²æ•°æ®
- é‡Šæ”¾æœåŠ¡å™¨å­˜å‚¨ç©ºé—´

---

## ğŸ’° ç‚¹æ•°æ¶ˆè€—è¯´æ˜

| åˆ†è¾¨ç‡ | åƒç´  | æ¶ˆè€—ç‚¹æ•° | é€‚ç”¨åœºæ™¯ |
|--------|------|----------|----------|
| **1K** | çº¦ 1024px | ğŸª™ 1 ç‚¹ | å¿«é€Ÿé¢„è§ˆã€è‰å›¾ |
| **2K** | çº¦ 2048px | ğŸª™ 2 ç‚¹ | æ—¥å¸¸ä½¿ç”¨ï¼ˆæ¨èï¼‰ |
| **4K** | çº¦ 4096px | ğŸª™ 4 ç‚¹ | é«˜æ¸…å£çº¸ã€å°åˆ· |

> ğŸ’¡ ç®¡ç†å‘˜è´¦å·å…è´¹ä½¿ç”¨ï¼Œä¸æ¶ˆè€—ç‚¹æ•°

---

## ğŸŒ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

å¦‚æœä½ æƒ³æŠŠç½‘ç«™éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šä¾›ä»–äººè®¿é—®ï¼Œè¯·å‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼š

### æ–¹å¼ä¸€ï¼š1Panel é¢æ¿éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### 1. ä¸Šä¼ é¡¹ç›®ä»£ç 
é€šè¿‡ 1Panel æ–‡ä»¶ç®¡ç†å™¨æˆ– SFTP å°†é¡¹ç›®ä»£ç ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä¾‹å¦‚ `/python-envs/nano-banana`

#### 2. åˆ›å»ºè¿è¡Œç¯å¢ƒ
è¿›å…¥ 1Panel â†’ã€Œç½‘ç«™ã€â†’ã€Œè¿è¡Œç¯å¢ƒã€â†’ã€Œåˆ›å»ºè¿è¡Œç¯å¢ƒã€ï¼Œå¡«å†™ï¼š

| é…ç½®é¡¹ | å¡«å†™å†…å®¹ |
|--------|----------|
| **åç§°** | nano-bananaï¼ˆè‡ªå®šä¹‰ï¼‰ |
| **é¡¹ç›®ç›®å½•** | é€‰æ‹©ä½ ä¸Šä¼ çš„é¡¹ç›®è·¯å¾„ |
| **å¯åŠ¨å‘½ä»¤** | `pip install -r requirements.txt && gunicorn -w 6 -b 0.0.0.0:5000 --timeout 300 app:app` |
| **åº”ç”¨** | Python 3.10+ |
| **å®¹å™¨åç§°** | nano-bananaï¼ˆè‡ªå®šä¹‰ï¼‰ |

#### 3. é…ç½®ç¯å¢ƒå˜é‡
åˆ‡æ¢åˆ°ã€Œç¯å¢ƒå˜é‡ã€æ ‡ç­¾é¡µï¼Œç‚¹å‡»æ·»åŠ ï¼Œä¾æ¬¡å¡«å…¥ä»¥ä¸‹å˜é‡ï¼š

| å˜é‡å | è¯´æ˜ |
|--------|------|
| `GEMINI_API_KEY` | ä½ çš„ Gemini API å¯†é’¥ |
| `SECRET_KEY` | éšæœºå­—ç¬¦ä¸²ï¼Œç”¨äºåŠ å¯†ä¼šè¯ |
| `ADMIN_PASSWORD` | ç®¡ç†å‘˜å¯†ç  |
| `FLASK_DEBUG` | `False` |
| `EMAIL_SENDER` | å‘ä»¶é‚®ç®±ï¼ˆå¯é€‰ï¼‰ |
| `EMAIL_PASSWORD` | é‚®ç®±æˆæƒç ï¼ˆå¯é€‰ï¼‰ |
| `SMTP_SERVER` | SMTP æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰ |
| `SMTP_PORT` | SMTP ç«¯å£ï¼ˆå¯é€‰ï¼‰ |

#### 4. é…ç½®ç«¯å£
åˆ‡æ¢åˆ°ã€Œç«¯å£ã€æ ‡ç­¾é¡µï¼Œæ·»åŠ ç«¯å£æ˜ å°„ï¼š`5000`

#### 5. åˆ›å»ºç½‘ç«™å¹¶é…ç½®åå‘ä»£ç†
- è¿›å…¥ã€Œç½‘ç«™ã€â†’ã€Œåˆ›å»ºç½‘ç«™ã€â†’ã€Œåå‘ä»£ç†ã€
- å¡«å†™åŸŸåï¼Œä»£ç†åœ°å€å¡« `http://127.0.0.1:5000`
- ç”³è¯· SSL è¯ä¹¦ï¼Œå¼€å¯ HTTPS

### å…¶ä»–éƒ¨ç½²æ–¹å¼

é™¤ 1Panel å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼éƒ¨ç½²ï¼š

- **Gunicorn + Nginx**ï¼šé€‚åˆæœ‰ Linux æœåŠ¡å™¨è¿ç»´ç»éªŒçš„ç”¨æˆ·
- **Docker / Docker Compose**ï¼šé€‚åˆç†Ÿæ‚‰å®¹å™¨åŒ–éƒ¨ç½²çš„ç”¨æˆ·
- **å®å¡”é¢æ¿**ï¼šæ“ä½œæ–¹å¼ä¸ 1Panel ç±»ä¼¼

> ğŸ’¡ å¦‚éœ€å…¶ä»–éƒ¨ç½²æ–¹å¼çš„è¯¦ç»†æ•™ç¨‹ï¼Œå¯ä»¥è¯¢é—® AI åŠ©æ‰‹æˆ–æœç´¢ç›¸å…³èµ„æ–™ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„è¯´æ˜

```
gemini-image-webapp/
â”‚
â”œâ”€â”€ ğŸ“„ app.py                 # ä¸»ç¨‹åºå…¥å£ï¼ˆFlask åº”ç”¨ï¼‰
â”œâ”€â”€ ğŸ“„ database.py            # æ•°æ®åº“æ“ä½œï¼ˆç”¨æˆ·ã€å¡å¯†ç­‰ï¼‰
â”œâ”€â”€ ğŸ“„ email_service.py       # é‚®ä»¶æœåŠ¡ï¼ˆéªŒè¯ç å‘é€ï¼‰
â”œâ”€â”€ ğŸ“„ requirements.txt       # Python ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ ğŸ“„ .env                   # ç¯å¢ƒå˜é‡é…ç½®ï¼ˆéœ€è‡ªå·±åˆ›å»ºï¼‰
â”œâ”€â”€ ğŸ“„ .env.example           # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ .gitignore             # Git å¿½ç•¥è§„åˆ™
â”‚
â”œâ”€â”€ ğŸ“ data/                  # æ•°æ®ç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ users.db              # SQLite ç”¨æˆ·æ•°æ®åº“
â”‚   â””â”€â”€ sessions/             # ç”¨æˆ·ä¼šè¯ JSON æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ static/                # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/                  # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ js/                   # JavaScript è„šæœ¬
â”‚   â”œâ”€â”€ fonts/                # å­—ä½“æ–‡ä»¶
â”‚   â”œâ”€â”€ images/               # ç”Ÿæˆçš„å›¾ç‰‡ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â””â”€â”€ thumbnails/           # ç¼©ç•¥å›¾ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚
â””â”€â”€ ğŸ“ templates/             # HTML æ¨¡æ¿
    â”œâ”€â”€ index.html            # ç”¨æˆ·ä¸»é¡µé¢
    â””â”€â”€ admin.html            # ç®¡ç†åå°é¡µé¢
```

---

## â“ å¸¸è§é—®é¢˜

### Q: ç”Ÿæˆå›¾ç‰‡å¾ˆæ…¢/è¶…æ—¶æ€ä¹ˆåŠï¼Ÿ
**A:** Gemini å›¾ç‰‡ç”Ÿæˆé€šå¸¸éœ€è¦ 30-60 ç§’ï¼Œè¿™æ˜¯æ­£å¸¸çš„ã€‚å¦‚æœç»å¸¸è¶…æ—¶ï¼š
- æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦ç¨³å®š
- å¯ä»¥é…ç½® `GEMINI_API_BASE_URL` ä½¿ç”¨ä»£ç†
- å‡å°‘å‚è€ƒå›¾ç‰‡æ•°é‡

### Q: éªŒè¯ç é‚®ä»¶æ”¶ä¸åˆ°ï¼Ÿ
**A:** 
- æ£€æŸ¥åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹
- ç¡®è®¤é‚®ç®±é…ç½®æ­£ç¡®ï¼ˆä½¿ç”¨æˆæƒç è€Œéç™»å½•å¯†ç ï¼‰
- QQ é‚®ç®±éœ€è¦å…ˆå¼€å¯ SMTP æœåŠ¡

### Q: å¦‚ä½•ä½¿ç”¨ä»£ç†è®¿é—® Gemini APIï¼Ÿ
**A:** åœ¨ `.env` ä¸­é…ç½®ï¼š
```env
GEMINI_API_BASE_URL=http://ä½ çš„ä»£ç†åœ°å€:ç«¯å£
```

> âš ï¸ **é‡è¦æç¤ºï¼šæœ¬é¡¹ç›®ä½¿ç”¨ Gemini å®˜æ–¹ API åè®®**
> 
> æœ¬é¡¹ç›®è°ƒç”¨çš„ API å¿…é¡»éµå¾ª **Google Gemini å®˜æ–¹ API åè®®æ ¼å¼**ï¼Œä¾‹å¦‚ï¼š
> - `http://127.0.0.1:8045/v1beta/models`
> - `https://generativelanguage.googleapis.com/v1beta/models`
> 
> å¦‚æœä½ ä½¿ç”¨ç¬¬ä¸‰æ–¹ API ä»£ç†æœåŠ¡ï¼Œè¯·ç¡®ä¿è¯¥æœåŠ¡å®Œå…¨å…¼å®¹ Gemini API åè®®ï¼ˆ`/v1beta/models` ç«¯ç‚¹æ ¼å¼ï¼‰ï¼Œè€Œé OpenAI API æ ¼å¼ã€‚
> 
> é…ç½®ç¤ºä¾‹ï¼š
> ```env
> GEMINI_API_BASE_URL=http://127.0.0.1:8045
> GEMINI_API_KEY=ä½ çš„APIå¯†é’¥
> ```

### Q: å¦‚ä½•å…³é—­é‚®ç®±éªŒè¯æ³¨å†Œï¼Ÿ
**A:** ç›®å‰ç‰ˆæœ¬éœ€è¦ä¿®æ”¹æºç ã€‚åœ¨ `app.py` çš„ `api_register` å‡½æ•°ä¸­æ³¨é‡Šæ‰éªŒè¯ç æ ¡éªŒé€»è¾‘ã€‚

### Q: å¿˜è®°ç®¡ç†å‘˜å¯†ç æ€ä¹ˆåŠï¼Ÿ
**A:** åˆ é™¤ `data/users.db` æ–‡ä»¶ï¼Œé‡å¯åº”ç”¨ä¼šè‡ªåŠ¨åˆ›å»ºæ–°çš„ç®¡ç†å‘˜è´¦å·ã€‚

---

## ğŸ”§ API æ¥å£æ–‡æ¡£

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´ API æ–‡æ¡£</summary>

### è®¤è¯æ¥å£

| æ¥å£ | æ–¹æ³• | æè¿° | å‚æ•° |
|------|------|------|------|
| `/api/login` | POST | ç”¨æˆ·ç™»å½• | `username`, `password` |
| `/api/register` | POST | ç”¨æˆ·æ³¨å†Œ | `username`, `email`, `password`, `verification_code` |
| `/api/logout` | GET | ç”¨æˆ·ç™»å‡º | - |
| `/api/send-verification-code` | POST | å‘é€éªŒè¯ç  | `email` |

### ä¼šè¯æ¥å£

| æ¥å£ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/sessions` | GET | è·å–ä¼šè¯åˆ—è¡¨ |
| `/api/sessions` | POST | åˆ›å»ºæ–°ä¼šè¯ |
| `/api/sessions/<id>` | GET | è·å–ä¼šè¯è¯¦æƒ… |
| `/api/sessions/<id>` | DELETE | åˆ é™¤ä¼šè¯ |
| `/api/sessions/<id>/title` | PUT | æ›´æ–°ä¼šè¯æ ‡é¢˜ |

### ç”Ÿæˆæ¥å£

| æ¥å£ | æ–¹æ³• | æè¿° | å‚æ•° |
|------|------|------|------|
| `/api/generate` | POST | ç”Ÿæˆå›¾ç‰‡ | `session_id`, `prompt`, `aspect_ratio`, `image_size`, `reference_images` |
| `/api/redeem` | POST | å¡å¯†å……å€¼ | `code` |

### ç®¡ç†å‘˜æ¥å£

| æ¥å£ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/admin/users` | GET | è·å–ç”¨æˆ·åˆ—è¡¨ |
| `/api/admin/users/<id>` | DELETE | åˆ é™¤ç”¨æˆ· |
| `/api/admin/users/<id>/credits` | POST | å……å€¼ç‚¹æ•° |
| `/api/admin/users/<id>/toggle-admin` | POST | åˆ‡æ¢ç®¡ç†å‘˜æƒé™ |
| `/api/admin/card-keys` | GET | è·å–å¡å¯†åˆ—è¡¨ |
| `/api/admin/card-keys` | POST | ç”Ÿæˆå¡å¯† |
| `/api/admin/cleanup` | POST | æ¸…ç†å†å²æ•°æ® |

</details>

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **API Key å®‰å…¨**
   - åˆ‡å‹¿å°† `.env` æ–‡ä»¶æäº¤åˆ° Git
   - ä¸è¦åœ¨å…¬å¼€åœºåˆåˆ†äº«ä½ çš„ API Key

2. **æ•°æ®å¤‡ä»½**
   - å®šæœŸå¤‡ä»½ `data/` ç›®å½•
   - åŒ…å«ç”¨æˆ·æ•°æ®å’Œä¼šè¯è®°å½•

3. **ç”Ÿäº§ç¯å¢ƒ**
   - åŠ¡å¿…ä½¿ç”¨ HTTPS
   - è®¾ç½® `FLASK_ENV=production`
   - ä½¿ç”¨ Gunicorn è€Œé Flask å¼€å‘æœåŠ¡å™¨

4. **API é…é¢**
   - æ³¨æ„ Google Gemini API çš„å…è´¹é…é¢é™åˆ¶
   - è¶…å‡ºé…é¢éœ€è¦ä»˜è´¹æˆ–ç­‰å¾…åˆ·æ–°

---

## ğŸ“¢ åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ [Issue](https://github.com/gbmomo/gemini-image-webapp/issues)ï¼

---

## ğŸ“„ å¼€æºè®¸å¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE) å¼€æºã€‚

---

## ğŸ“ è”ç³»

- **Email**: S@gitsay.com
- **GitHub**: [@gbmomo](https://github.com/gbmomo)
